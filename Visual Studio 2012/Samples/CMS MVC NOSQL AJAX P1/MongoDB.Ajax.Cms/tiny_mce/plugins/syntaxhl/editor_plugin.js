(function () { tinymce.PluginManager.requireLangPack('syntaxhl'); tinymce.create('tinymce.plugins.SyntaxHL', { init: function (ed, url) { ed.addCommand('mceSyntaxHL', function () { ed.windowManager.open({ file: url + '/dialog.htm', width: 450 + parseInt(ed.getLang('syntaxhl.delta_width', 0)), height: 400 + parseInt(ed.getLang('syntaxhl.delta_height', 0)), inline: 1 }, { plugin_url: url }) }); ed.addButton('syntaxhl', { title: 'syntaxhl.desc', cmd: 'mceSyntaxHL', image: url + '/img/highlight.gif' }); ed.onNodeChange.add(function (ed, cm, n) { cm.setActive('syntaxhl', n.nodeName == 'PRE') }) }, createControl: function (n, cm) { return null }, getInfo: function () { return { longname: 'Syntax Highlighter', author: 'Richard Grundy', authorurl: 'http://27smiles.com', infourl: 'http://27smiles.com', version: "1.0"} } }); tinymce.PluginManager.add('syntaxhl', tinymce.plugins.SyntaxHL) })();